<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Level 1 Language Simulator</title>

<style>
:root{
  --bg:#050505;
  --neon:#00ffd5;
  --purple:#8f00ff;
}

*{
  box-sizing:border-box;
  font-family:Tahoma, Arial, sans-serif;
}

body{
  background:var(--bg);
  color:#eafffb;
  margin:0;
  padding:20px;
}

h1,h2{color:var(--neon);}

.container{
  max-width:1200px;
  margin:auto;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:20px;
}

@media(max-width:800px){
  .container{grid-template-columns:1fr;}
}

.panel{
  background:rgba(0,0,0,.7);
  border:2px solid var(--neon);
  border-radius:15px;
  padding:20px;
  box-shadow:0 0 25px rgba(0,255,213,.2);
}

textarea{
  width:100%;
  height:280px;
  background:#000;
  color:var(--neon);
  border:1px solid var(--neon);
  padding:15px;
  font-family:monospace;
  font-size:15px;
  direction:ltr;
}

.output{
  background:#000;
  color:#00ff41;
  padding:15px;
  min-height:160px;
  white-space:pre-wrap;
  overflow:auto;
  border:1px solid var(--neon);
}

button{
  padding:10px 18px;
  background:transparent;
  color:var(--neon);
  border:2px solid var(--neon);
  cursor:pointer;
  border-radius:8px;
  transition:.3s;
}

button:hover{
  background:var(--neon);
  color:#000;
  box-shadow:0 0 20px var(--neon);
}

.controls{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:10px;
}

.registers,.memory{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(120px,1fr));
  gap:10px;
}

.register,.mem-cell{
  background:#000;
  border:1px solid var(--neon);
  padding:10px;
  text-align:center;
}
</style>
</head>

<body>

<div class="container">
<h1 style="grid-column:1/-1;text-align:center">
Ù…Ø­Ø§ÙƒÙŠ Ù„ØºØ© Ø¨Ø±Ù…Ø¬Ø© â€“ Level 1
</h1>

<div class="panel">
<h2>ğŸ“ Ø§Ù„ÙƒÙˆØ¯</h2>
<textarea id="codeEditor">
LOAD A, 5
LOAD B, 3
MULTIPLY
STORE 0x10

LOAD A, 10
ADD B
STORE 0x11

PRINT "Result:"
PRINTREG A
PRINTMEM 0x10
HALT
</textarea>

<div class="controls">
<button id="runBtn">â–¶ ØªØ´ØºÙŠÙ„</button>
<button id="stepBtn">â­ Ø®Ø·ÙˆØ©</button>
<button id="resetBtn">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø©</button>
</div>
</div>

<div class="panel">
<h2>ğŸ“¤ Ø§Ù„Ù†Ø§ØªØ¬</h2>
<div id="output" class="output"></div>

<h2>ğŸ”„ Registers</h2>
<div id="registers" class="registers"></div>

<h2>ğŸ’¾ Memory</h2>
<div id="memory" class="memory"></div>
</div>
</div>

<script>
const sim={
registers:{A:0,B:0,C:0,D:0},
memory:{},
program:[],
pc:0,
running:false,
output:"",

reset(){
this.registers={A:0,B:0,C:0,D:0};
this.memory={};
for(let i=0x10;i<=0x1F;i++)this.memory[i.toString(16)]=0;
this.program=[];
this.pc=0;
this.output="";
this.update();
},

load(code){
this.reset();
code.split("\n").forEach(l=>{
l=l.split(";")[0].trim();
if(l)this.program.push(l);
});
},

step(){
if(this.pc>=this.program.length){
this.output+="âœ” Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬\n";
this.running=false;
return;
}

const ins=this.program[this.pc++].split(/\s+/);
const cmd=ins[0].toUpperCase();
const arg=ins.slice(1).join("").split(",");

switch(cmd){
case"LOAD":this.registers[arg[0]]=parseInt(arg[1]);break;
case"ADD":this.registers.A+=this.registers[arg[0]];break;
case"MULTIPLY":this.registers.A*=this.registers.B;break;
case"STORE":this.memory[arg[0].replace("0x","")]=this.registers.A;break;
case"PRINT":this.output+=arg.join(",").replace(/"/g,"")+"\n";break;
case"PRINTREG":this.output+=`${arg[0]} = ${this.registers[arg[0]]}\n`;break;
case"PRINTMEM":
const a=arg[0].replace("0x","");
this.output+=`MEM ${a} = ${this.memory[a]}\n`;
break;
case"HALT":this.output+="â¹ ØªÙˆÙ‚Ù\n";this.running=false;break;
}
this.update();
},

run(){
this.running=true;
while(this.running)this.step();
},

update(){
document.getElementById("output").textContent=this.output;
const r=document.getElementById("registers");
r.innerHTML="";
for(let k in this.registers){
r.innerHTML+=`<div class="register">${k}: ${this.registers[k]}</div>`;
}
const m=document.getElementById("memory");
m.innerHTML="";
for(let k in this.memory){
m.innerHTML+=`<div class="mem-cell">0x${k}: ${this.memory[k]}</div>`;
}
}
};

sim.reset();

runBtn.onclick=()=>{
sim.load(codeEditor.value);
sim.run();
};

stepBtn.onclick=()=>{
if(!sim.running){
sim.load(codeEditor.value);
sim.running=true;
}
sim.step();
};

resetBtn.onclick=()=>sim.reset();
</script>

</body>
</html>
